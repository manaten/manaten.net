JavaScriptで変な形のクリック領域を作るとき、svgが便利
JavaScript
=====
<a href="http://manaten.net/wp-content/uploads/2013/10/WS002083.png"><img src="http://manaten.net/wp-content/uploads/2013/10/WS002083-300x300.png" alt="WS002083" width="300" height="300" class="aligncenter size-medium wp-image-804" /></a>

[昨日のVieraのリモコン](http://manaten.net/archives/791)、リモコンを作りたかったのもあるけど、svgとJavaScriptを組み合わせた簡単なプログラムを試しに書いてみたかったというのがあります。

<!-- more -->

html5ではsvgをhtml中に埋め込んで、更にそのsvgにcssでスタイルを当てたり、JavaScriptでいろいろやったり出来ます。
この時、要素のクリック領域は要素の形そのままなので、昨日のリモコンのような変な形のクリック領域を簡単に作ることが出来ます。

以下の画像の色のついた箇所にマウスを乗せたりクリックをしたりしてみてください。
<div>
<svg width="509" height="515" version="1.1" xmlns="http://www.w3.org/2000/svg">
	<rect fill="#eeeeee" x="0" y="0" width="509" height="515" />
	<g stroke="black" stroke-width="0.2" stroke-linejoin="round">
		<path fill="#cccccc" d="M424-1l-1 3-2 4-3 8h-2l2 1 11 9 5-1 4 4h1h10l5 3 1 3-3 2 2 7-1 9-2 3v3l1 2 4-1 1 5 4 3h2l2 2h3l1 1 4-1 2-1 2 3 4 1v1l6 5 1 4 4 3v4l-5 4-2 7-4 3-7 4-5 5-3-2-3 2-6-3-3-1-3 1-1 5-2 1v6l1 3 1 8-3 4-2 7h4l-1 3 2 2-3 4h-2l-3 2v10h-2l-1 3 1 2-2 2 2 2-1 5-3 7 1 6 2 4 3 2 1 1 5 6 5-3 2 1 2 5 1 1 2 3 6-2 3-1 2 2 4 5 4-3 6-3 5 4h4l5-1 1-1v-3h2l3 3 1 2v4l4 5v-222zM510 221l-4-5v-4l-1-2-3-3h-2v3l-1 1-5 1h-4l-5-4-6 3-4 3-4-5-2-2-3 1-6 2-2-3-1-1-2-5-2-1-5 3 7-2 5 9-2 2-3 3-7 7-3 5h-2l-2 7-5 5 1 6-4 1-3 5h-1l-7 4-1 1 1 2-2 3 1 3-1 2 4 3 1 7-1 7 3 4 3 1-2 4-4 3-5-3-4-1-2 2-4-1-4 3-4-4h-5l-4 3-1 4v6l-2 2-7-3-4 3-2 1-2-1-14 4-2-2-3 2-3-1-4 9-1 1 3 5 4 1 1 6v6l-4 3 2 3-2 3v5l-5 5-2 3-4 6 5 7 2 5 2-1 3-3 4 6 1 4 2 2-2 8v1l-2 7 5 13v1l1 2-4 7 2 8v1l-1 1 1 1v5l-2 4h-2l-1 1 1 1 2 1 5-3 3 3 3-1 3 2h7l2 3 5-1 4 2 3-4h5l1-4 2-2 3-2v-4h1l4-1 2 2 7-4h2l4-3 5-3 1-3h5l3-1 1-4 8-2 2-4 2-1h4l2-2 9-1 2-3 3-3 3 1 7 1-2-8 1-2 3-3 3-1 4-3 7-2 2 2 2-1 3-1h6v1l1 1zM510 388l-1-1v-1h-6l-3 1-2 1-2-2-7 2-4 3-3 1-3 3-1 2 2 8-7-1-3-1-3 3-2 3-9 1-2 2h-4l-2 1-2 4-8 2-1 4-3 1h-5l-1 3-5 3-4 3h-2l-7 4-2-2-4 1h-1v4l-3 2-2 2-1 4h-5l-3 4v2l-3 2-2 4-2 2-1-1v5l-1 1 7 5 4 1 1 1-3 4v1l-3 1v5l-3 1-2 2-1 3 1 4 4 1-1 5-2 5-5 4 1 4-1 2h133zM377 516l1-2-1-4 5-4 2-5 1-5-4-1-1-4 1-3 2-2 3-1v-5l3-1v-1l3-4-1-1-4-1-7-5 1-1v-5l1 1 2-2 2-4 3-2v-2l-4-2-5 1-2-3h-7l-3-2-3 1-3-3-5 3-2-1-1-1 1-1 1-2-2-3-5 1-5-2-1-6-1-4-2-1-7-5-2-6-3-2-2-1-1 10-2 3-6 3-2 3-3 1-3-1-3 2h-7l-1 6v6l3 8v3l-2 2-2-2h-6l-1 2-2 4 1 2-1 3 2 2 1 3-11 3-5 3-2-1-5-1 2 6-1 6-2 3-2-1-3 2-1 4-2-1h-3l-6-3-3-2-2 7h-4l-4 2-4 1-4 1-4 1-1 2-1 2-4-2-2 3-2-2-7 2-6 3h1v4l1 1zM42 516l-3-10 2-8-1-5 2-3-2-3v-9l-5-4 2-7-1-6-4-4v-3l2-7-2-5-5 1-6-5-5-5h-2l-8 1-3 3h-4v79zM204 516l-1-1v-4h-1l6-3 7-2 2 2 2-3 4 2 1-2 1-2 4-1 4-1 4-1 4-2-1-4-1-3-3-1-1-3 4-4 2-4-4-3 3-3v-3v-3l-2-3-5-1-5-3h-2l-2-7h-4l-2-1v-9v-11l-4-6-1-3h-6l-2-2h-1l-5 1-2 1h-7l-8 5-3 1h-2l-3 5v1l-2 3-3 8-3 4-5-2-3 2-3 6 2 3-3 4 2 4-3 3-2 1v-3l-4-5-4 2-5-2-4 4-4 2-2 1-11-2-4 3-1 1-4 5 1 2-5 2v-2h-4l-1-2-4-2-1-1 3-4-1-5 4-5v-3l-4-1v-1v-1l-9-2-3 2-2-3-6-2-5 3-6-2-1 2 2 2-2 3 3 5-1 2-3 3-1 3-5 6v3l-8 5-2 4-4 1-1 1-2 3 1 5-2 8 3 10z" />
		<path class="svg-area" data-name="政令指定都市" fill="#dcb6f2" d="M299 248h-1h5v-1v-3l5-4 2 1v3h2v-2l6-7 1 2v-2l3-1v2l2-2 1-1 3 3v-3h4l2-4h2l1-4 1 1v-1l3-1-1-1h4l1-1-3-1v-6l-5-2 2-3h2l1-2-4-2-1-2h1l4-5h12l2-5v2l1-4 2 2v-3l1-1v-3l-2-3-1 1v-5l2-1-3-2h-4l3-3-1-2-3-1 2-2-3-5 3-6-6 9-15 7-1-1-6 1-6 1 1 2h-1l-13 10-8 5-23 16-9 12-6 17v4h5l1-3 11 3 9-3 1-3 3-1v3l3 1 1 4 4-2-2 5 3 1 1 1v1z" />
		<path class="svg-area" data-name="市" fill="#f6bad3" d="M47 488l2-4 8-5v-3l5-6 1-3 3-3 1-2-3-5 2-3-2-2 1-2 6 2 5-3 6 2 2 3 3-2 9 2v1v1l4 1v3l-4 5 1 5-3 4 1 1 4 2 1 2h4v2l5-2-1-2 4-5 1-1 4-3 11 2 2-1 4-2 4-4 5 2 4-2 4 5v3l2-1 3-3-2-4 3-4-2-3 3-6 3-2 5 2 3-4 3-8 2-3v-1l3-5h2l3-1 8-5h7l2-1 5-1h1l2 2h6l3-3 8-3h3l3-3 5-3 4 2-1 2 2 4-2 2 1 5h1l1-2 1 9 2 1v4v5l-4 2-1-3-3 2 1 1-3 1v6l-2 2 4 6 3 1 3 3 2-1 5-8-1-2 11-13 1-2 4 1 3 3 7-3 1 3h7l2 4 3 1 3 9 1 1h6l2 2 2-2v-3l-3-8v-6l1-6h7l3-2 3 1 3-1 2-3 6-3 2-3 1-10 2 1 3 2 2 6 7 5 2 1 1 4 1 6 5 2 5-1 2 3-1 2h2l2-4v-5l-1-1 1-1v-1l-2-8 4-7-1-2v-1l-5-13 2-7v-1l2-8-2-2-1-4-4-6-3 3-2 1-2-5-5-7 4-6 2-3 5-5v-5l2-3-2-3 4-3v-6l-1-6-4-1-3-5 1-1 4-9 3 1 3-2 4-6 3-2h3l-2-6-3-1 4-3 6-6-3-5 3-6-1-3 6-1v-5v-3l-4-2-1-3v-4l-3-3v-4l-5-2-1-1 1-5 2-2v-2l-2-1 1-5 7-3 4-8 3-3 1-3 2-1h4l4 3h4l5 4 3 3 3-3 2 1 3-1 4 1 2-2 11-2 8-6h7l5-4-5-6-1-1-3-2-2-4-1-6-4-2v-3l-8 1-3-7 2-6-5-7-2-1 2-5-4-8v-6l-6-1-1 1 5-4v-2l-2-2v-3h2l-2-2 1-3 2 1 4-3 4 1 5-5 2-1 5 2 8-2 3 3h4v-6l2-1 1-5 3-1 3 1 6 3 3-2 3 2 5-5 7-4 4-3 2-7 5-4v-4l-4-3-1-4-6-5v-1l-4-1-2-3-2 1-4 1-1-1h-3l-2-2h-2l-4-3-1-5-4 1-1-2v-3l2-3 1-9-2-7 3-2-1-3-5-3h-10h-1l-4-4-5 1-11-9v4l-5 9-2 5-3 8-3 3v3l-2 3-3 8v3l-2 5v1v10v15l-2 5 2 1v2l-6 13 3-1-1 2-1-1 1 1v2l-4 6-7 11-13 17-5 5 2 3-2 2 3-1-6 6 3 2 3-2 3 2-6 8h-7l-2 2 3 2-2 1v5l1-1 2 3v3l-1 1v3l-2-2-1 4v-2l-2 5h-12l-4 5h-1l1 2 4 2-1 2h-2l-2 3 5 2v6l3 1-1 1h-4l1 1-3 1v1l-1-1-1 4h-2l-2 4h-4v3l-3 4 2 3-1 5-7 2v1l-3-1h-2l-2-6h-2v-3l-2-1-5 4v3v1h-5h1h1v-1l-1-1-3-1 2-5-4 2-1-4-3-1v-3l-3 1-1 3-9 3 1 3-1 1 1 5h-3l-1 1-2 3h-1l3-4-3 1-5-1-2-1 1-8h-5l-3 15-2 1 1 1-3 8-6 9v4h5l-1 5 4 4-2 4h-2l-2 3 1 2-1 2h-3l-5-4-4 2v-7h-4l-2 3-4 6-3 1-1 7-2 5h-2h1l-1 4-1-5v5l-6 11-3 4-6 2-6 2v1l-6 4-3 2h-2l-4 5-16 17-16 13v-1l-3 2 1 2-2-1 2-6-2 7-7 3-5 1-8 1-11-3-3 1-1 3-3 3-4 3v2l-5 3h-4l-2 2v-1l-18 14-15 4-1 2-1-1 3-2-7 5-14 5-24 8 5 5 6 5 5-1 2 5-2 7v3l4 4 1 6-2 7 5 4v9l2 3 1-1zM222 313h-1v-2l2 1v-3l5-2 2 2-3 5h3l5 4 1 2-2 1-6-2-3 3-6 1zM240 312l4 5-2 3v2l-5-6 1-2zM147 215l4-2 1-1 1 1h2l-1-1 5-3h5h1l7-3 6-4 9-8 6-3 4-6 3-1 1-3 4-12 5-10 3-6 2-7v-5l-2-1h-1l-3 2-4 2h-4l-5 2-6-2-4-5 1-7 2-4 10-19v-5l2-8 2-13 2-6-2-2h-6l-2 2-3 1 1 2-3 3-2 4 1 2-2 4-2 2-4 2-1-1-3 4-5 6-5 4h-3l-3 7-2 3-2 5-3 4-2 2v2l-2 3-2 2-2 3 1 1-1 1-1 2v4v6l-3 2v2l1 1 1 2v4l-1 2 2 2 3 2 2-3 4-8h5l5 4 3 7-4 5-4 2-2 3-3 4 2 5-1 4-3 8-4 1-3 2h-5v2l-2 2 3 1-1 2 4 1z" />
		<path class="svg-area" data-name="町" fill="#ece3b4" d="M259 496l2 1 1-4 3-2 2 1 2-3 1-6-2-6 5 1 2 1 5-3 11-3-1-3-2-2 1-3-1-2 2-4 1-2-1-1-3-9-3-1-2-4h-7l-1-3-7 3-3-3-4-1-1 2-11 13 1 2-5 8-2 1-3-3-3-1-4-6 2-2v-6l3-1-1-1 3-2 1 3 4-2v-5v-4l-2-1-1-9-1 2h-1l-1-5 2-2-2-4 1-2-4-2-5 3-3 3h-3l-8 3-3 3 1 3 4 6v11v9l2 1h4l2 7h2l5 3 5 1 2 3v3v3l-3 3 4 3-2 4-4 4 1 3 3 1 1 3 1 4h4l2-7 3 2 6 3zM376 307l2-1 4-3 7 3 2-2v-6l1-4 4-3h5l4 4 4-3 4 1 2-2 4 1 5 3 4-3 2-4-3-1-3-4 1-7-1-7-4-3 1-2-1-3 2-3-1-2 1-1 7-4h1l3-5 4-1-1-6 5-5 2-7h2l3-5 7-7 3-3 2-2-5-9-7 2-5 4h-7l-8 6-11 2-2 2-4-1-3 1-2-1-3 3-3-3-5-4h-4l-4-3h-4l-2 1-1 3-3 3-4 8-7 3-1 5 2 1v2l-2 2-1 5 1 1 5 2v4l3 3v4l1 3 4 2v3v5l-6 1 1 3-3 6 3 5-6 6-4 3 3 1 2 6h-3l-3 2-4 6 2 2 14-4zM246 299h3l1-2-1-2 2-3h2l2-4-4-4 1-5h-5v-4l-3 6-6 4-5 5h4v7l4-2 5 4zM326 248l1-5-2-3 3-4-3-3-1 1-2 2v-2l-3 1v2l-1-2-6 7v2l2 6h2l3 1v-1zM356 177l2-2h7l6-8-3-2-3 2-3-2 6-6-3 1 2-2-2-3-8 6-1-1 1 1-5 2 1 5 3 2h-2v2l1 2-3 3z" />
		<path class="svg-area" data-name="村" fill="#b6f2dc" d="M264 249l2 1 5 1 3-1-3 4h1l2-3 1-1h3l-1-5 1-1-1-3-11-3-1 3zM436 184l3-7 1-5-2-2 2-2-1-2 1-3h2v-10l3-2h2l3-4-2-2 1-3h-4l2-7 3-4-1-8-1-3h-4l-3-3-8 2-5-2-2 1-5 5-4-1-4 3-2-1-1 3 2 2h-2v3l2 2v2l-5 4 1-1 6 1v6l4 8-2 5 2 1 5 7-2 6 3 7 8-1v3zM358 37l1-4-1-1-3 3-2 4h-2v3l-1 5 5-4zM222 313l-3 10 6-1 3-3 6 2 2-1-1-2-5-4h-3l3-5-2-2-5 2v3l-2-1v2zM240 312l-2 2-1 2 5 6v-2l2-3z" />
		<path fill="none" stroke-linecap="round" d="M407 140l-1 2-3-1-5-4-1-2-1 1-1-1v2l-3-3-2-4v-7v-1M437 190l-1 1-4 1-2 5-5 2h-4l1-3-2-3-2-1h-7l-2-3 3-6-2-3-2-4v-12l-2-2h-2v-2h-3l-1-2-4-1h-3l-5-3-1 2-1-2h-4h-2l-1 4-7-5-2-3M381 210l2-6-9-5-4 1-2-1-1 2-1-1-7-9M365 232l-1 1-7-3-5 1-1-4-7-4M363 293v-2l-3 1v-6l-3-1-1-3-2-2-3-11-3-3-2-1-3 4h-2l-3-2-1-5-3-1v-2l-1-6-5 2-2-7M298 248l-2 2-1 5-4 1-3-1 3 6-11 3-2 7h2l2 2 3 5 5 1 1 2h2l2 4 3-1 1-4h2v5l4 2v2l6-1 3 2h5l2-2 2 2 5 2-1 9-3 1v3l1 4 6 6v5l4 3 4-4h8M354 280h-6l-4 2-5-2-6-2-2-3-3-1-2-3h-3l-3-5h-2l-2-1-3 1-1-3 1-4-3-5-4-1 1-4-4-1M280 264l-8 4-3 3-1-4 3-3h-2l1-1-2-6-2 1-1 2-4-4 1-1h-2l1-6h3M278 271v7l2 5v6l3 4-2 2h3l1-2 1 3-2 2 7 1 1 3 2 2 4-1v-4l-3 2 5-5h3v-4h-2h3l1-3M295 306h1l-2-1 1 1M240 312l6-13M331 320h-6l-3 1-6-2-1 4h-4l-2 4-5 3-5-3-3 3 2 5-4 2-3 2 2 4-2 2v4l-5 2-2 1v2l-3 2 1 6-4 11-8 9h1l1 3 6-8 2 1 3 5v-1l2 1 2-3-1-3 5-4 3 3-4 5 2 2 3-1 2-4 4-1 10 3v9l5 2 6 3v13l4 4v2M286 351l1-2-2-2-1 1-1-2-6-2 2-6-1-3h-3l1 2-7 3-2-6-2-3-3-1-1-3h-5l-2 6 1 3-2 6 1 5-2 5 1 2-2 2 1 2-5 10-1 1 3 2h6l4-3 1 2 7 2 3 2 2-2-2-3v-4l4-3-4-6v1l-2-2 3-2v-3l3-1-1-2 1-1 2 2v-1l3 2h2l1 2 2 1M247 368l-4-2-1 1-6-1v-1l-2-8-3-2-1-3 3-5 1-5 3-1 9-14-4-5M236 366v6l-6 11-5-2v4h-3v-1l-1-1-5 2-3-2 1-2-3-3-1-3-3 1-2-3v-2l-4-3 3-6 4-3-3-4-3 1-5-4-8-2-2 1-2-3-2 2v-2l-1-1M270 382v-8M213 383v4l-6 5h-2l-1 7 5 7-2 4 1 5-3 6M272 385l7 6-7 6-4 8 1 4-3 1-2 4-6 12-2 8v5l3 1M174 434l-7 1-1-3-7-3h-3l-2-2 1-4-2-4v-2l-3-1 2-1-1-1 2-3h-4v2l-3-3v1l-3-1-3 1-3-1-6 2 1 5-4-1-1 3-4 1v6v3l-2 3 1 5 4 1 5-3 6-6 1 1 2-2v2l4-4h2l-1 5 1 3-4 9v-1l-2 2h-2l-1-3-9 2-2 1v-3l-1 1-10-7v1l-2-1-1-11 2-12-1-1-2-7h-2l2-8-3-7M115 436l2 4-1 2-6 2-3 5h-7l-4 5M240 470l1-1 2-3-1-2" />
		<path fill="#eeeeee" d="M463 30v2l4-5h-2zM486 25l-7 8 3 3-3-3 6-6 3 3zM497 335l2 6 1-1zM369 449l2 1 2-3-5-2zM355 379l2 1v-1l-4-3v-4l-2-1 2 7zM354 390h-3l5 1-6 5-9-3 6 4v-1h4v5l-2 4 2-3 1-6h2l2-3-2 4 1 4-1 4 1-3 3 8v-2l2-1-4-2 1-1-1-2v-4l2 2h4l-3-1-2-3 1-1v-5l1-1 1 1v-2h-2zM358 344l3 4-4-2v3l-5 1 2 3-1 4h-2v4l-2-1 1 2-1 2 2 1-1 1 1-2-1-1 2-5h3l-1-1 1-5-2-2 3 1 2-3 2 3v-2l3-1v4l1-1 2 5 2 2-1 4 2-5-2-1v-2h1l-2-2h2l-3-3 1-3-4-2v3zM498 222l-3 5 5 2-3-2zM425 305l-2 2 4 2 2-1zM395 496l3 2h6v4l3-1v2l5-5-5-1-3-3h-7zM497 399v-2l-1 4 1 3zM413 459l-1 2h-4l-1-1 1 1 8-1 1-1h-4l4-5-4 3zM451 445h-3l4 2v2l3 1 1 4-2-6h-2h2l-1-3 1-3-2 1 1 4zM453 454l-2-3h-2l-1 5h-2h3l1-4 2 2-1 1zM473 475l2 1h3zM319 486l-1 2h2zM230 504l-1-1-1 2h1v3h1l2 2zM313 481l3-2-1-3 1-4-1 4 1 2zM323 459v1h2l-1-3 4 2-2-1 3-3-3 1v1l-2-1zM317 458v3l2 3h1l2-3-3 3-1-1-1-5 1-6zM327 439l-3 6h-5l-2 3 1-3-2 2-4-5v2h-1h2l1 3 4 3-1 1-2-1 3 2 2-6h2v2l4-4zM280 502l3 3v-4l-1 2zM319 191l-3 1-3 3 4-2zM394 202l4 2 1-1h-3v-2zM108 463h-1l1 3-3-1 4 1zM184 142v4l1-1 1 1-2 1 1 2 2-1 1 3 1-3-2-3 1-2-3-3zM328 343l-3 1h2l2 9h2l1 1-4-6-1-4 2 2 1-1zM328 357l4 2-3 1h3l-1 3 4 2-4-7v-2l2 1-2-1 1-2-2 1v2zM438 94l-1 4 3-2v-3v1l-2-1zM457 91l1-1-3-2 1-2v-1v3l-3 1zM137 472v3l5 3v-3l3-2-3-1-2 2-1-2zM133 496l-1-1v2z" />
	</g>
	<g>
		<rect fill="white" opacity="0.75" x="4" y="4" width="246" height="36" />
		<rect fill="black" x="8" y="8" width="238" height="8" />
		<text fill="black" text-anchor="middle" font-size="24" font-family="sans-serif" x="127" y="36">100km</text>
	</g>
</svg>
<style>
path.svg-area {
  cursor: pointer;
}
path.svg-area:hover {
  fill: #ffc;
}
</style>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>
$('path.svg-area').each(function(_, e) {
  $(e).click(function() { alert($(e).attr("data-name")); });
});
</script>

</div>
画像は[Wikipedia](http://ja.wikipedia.org/wiki/%E6%96%B0%E6%BD%9F%E7%9C%8C)より。

上記の画像は、クリックできる箇所に .svg-area というクラス名と、data-name属性に市町村の文字列が入っており、以下の様なcss/jsによって動作を実現しています。

```css
path.svg-area {
  cursor: pointer;
}
path.svg-area:hover {
  fill: #ffc;
}
```

```javascript
$('path.svg-area').each(function(_, e) {
  $(e).click(function() { alert($(e).attr("data-name")); });
});
```

htmlの要素の場合とほとんど同じように操作できます。

変な形のクリック領域も、離れたクリック領域も思いのままです。
また、クリック領域を作ってあげるのも、フリーの[Inkscape](http://inkscape.org/)を利用して簡単にできるため、お手軽ですね。

<!--
title: 自宅のモニタをついにウルトラワイドモニタした & 内蔵KVMスイッチのレビュー
date:  2024-01-20 22:00
categories: []
-->

![現在のデスク周辺](https://manaten.net/wp-content/uploads/2024/01/01.jpg)

Dellの34インチUWQHD(3440x1440)モニタ、 **[P3424WE](https://www.dell.com/ja-jp/shop/dell-34-%E6%9B%B2%E9%9D%A2-usb-c%E3%83%8F%E3%83%96-%E3%83%A2%E3%83%8B%E3%82%BF%E3%83%BC-p3424we/apd/210-bjjq/%E3%83%A2%E3%83%8B%E3%82%BF%E3%83%BC-%E3%83%A2%E3%83%8B%E3%82%BF%E3%83%BC%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B5%E3%83%AA%E3%83%BC)** を購入しました。

もともと [デスク周り2022 - MANA-DOT](https://blog.manaten.net/entry/desk-2022) で書いた通り、27インチのWQHDモニタを愛用していましたが、前々から作業領域的にはWQHDが最適だと思うものの作業領域外に追加の情報(figmaのデザインカンプだとか、ビルド後のプレビューだとか)を表示したいと思うことが多々あり、UWQHDサイズのモニタがほしいと思っていた(加えて会社のモニタはUWQHDであり満足していた)ための購入となります。

今回モニタ購入の際の検討事項の一つが、｢**内蔵KVMスイッチの出来**｣であったため、本エントリでは特にモニタ内蔵のKVMスイッチ周りについて記載をしようと思います。

<!-- more -->

# モニタ内臓のKVMスイッチについて

筆者の環境では [デスク周り2022 - MANA-DOT](https://blog.manaten.net/entry/desk-2022) に記載した通り、 **KVMスイッチを用いて｢家の据え置きPC｣と｢会社のラップトップPC｣を一つのモニタ･マウス･キーボードを共有して切り替えて** 利用していました。図にすると以下のようになります。

![既存のモニタ周り](https://manaten.net/wp-content/uploads/2024/01/02.png)

この構成の肝は、**KVMスイッチとUSB TypeCハブ**です。KVMスイッチによって一つずつしかないマウス･キーボード･モニタを共有･切り返えし、更にラップトップ側ではUSB TypeCハブを挟むことで、電源を含めて1つのケーブルのみでPC本体と接続できています。これにより

- 会社PCと自宅PCで機器共有したいし、都度差し直したくない
- 持ち運びがしやすいようラップトップと機器は最小限のケーブルで接続したい

という要件を満たすことができています。

この構成自体に満足はしていたのですが、欠点として以下のようなものがあります。

- 机の裏に隠しているとはいえケーブルの本数がとても多くなる
- KVMスイッチが中国の謎メーカーのものしかニーズを満たす(WQHD 60Hz出力可能、USB3.0対応)ものがなく、品質がやや不安
- 電源ケーブルもたくさん必要。PowerPortにポート数の余裕があるとはいえ、この構成だけで4ポート使ってしまう

そこで、次モニタを買い替えるときは**KVMスイッチ内蔵のモニタ**にしようと考えていました。昨今のテレワーク需要を見据えてか、モニタ本体にKVMスイッチを内蔵しており、更にTypeCケーブルですべての機器+電源をラップトップと共有できる、という製品がちらほら増えています。今回購入した **[P3424WE](https://www.dell.com/ja-jp/shop/dell-34-%E6%9B%B2%E9%9D%A2-usb-c%E3%83%8F%E3%83%96-%E3%83%A2%E3%83%8B%E3%82%BF%E3%83%BC-p3424we/apd/210-bjjq/%E3%83%A2%E3%83%8B%E3%82%BF%E3%83%BC-%E3%83%A2%E3%83%8B%E3%82%BF%E3%83%BC%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B5%E3%83%AA%E3%83%BC)** にも同様の機能が搭載されています。これはモニタ本体内臓のUSBハブを、モニタ出力先の切り替えに連動する形で、モニタのUSB TypeC出力またはUSB出力のどちらかに切り替えられるというものです(より詳細は後述)。

モニタ本体内臓のKVMスイッチを利用することで、構成は以下の図のようになりました。

![現在のモニタ周り](https://manaten.net/wp-content/uploads/2024/01/03.png)

以前の構成のメリットを保ったまま、モニタ内蔵のKVMスイッチとUSBハブを利用することで、ケーブルと電源、機器の数を大幅に減らし非常にシンプルにすることができました。

![不要になったケーブルたち](https://manaten.net/wp-content/uploads/2024/01/04.jpg)

不要になったケーブルたち。撮り忘れてますがUSBハブ経由で利用していたMacのACアダプタも不要になっています。

# P3424WE内蔵KVMスイッチの使い勝手

さて今回モニタを購入するに当たってKVMスイッチの機能が非常に重要であったことは書いたとおりですが、実際に選ぶとなるとサイズを含めてこの条件を満たすモニタはほぼなく(今回のDellのもの以外だとLGのものか、10万以上のハイエンドクラスのモニタしかない)、加えてモニタ自体のレビューはあっても**KVMスイッチの使い勝手に対するレビューは皆無**でした。

しかしながらこのKVMスイッチの完成度が低かったり(接続が切れやすかったり遅延するなど)、KVMスイッチの操作性が悪かったり(ほぼ毎日切り替えるものですので、奥まったメニューにあって切り替えづらいなどだと最悪です)、ということは購入前から懸念でした。

そこで本記事では、同じくモニタのKVMスイッチの出来が気になる方向けに、KVMスイッチの使い勝手についても軽く触れておこうと思います。

## P3424WE内蔵KVMスイッチの挙動

そもそも気になる点として、**｢KVMスイッチの切替は何をトリガに発生するのか？｣**というものがあります。結論から言うと、**KVMスイッチの切り替えは予めモニタの設定画面で設定した割当先に応じて、モニタ入力先切り替えに連動して切り替わります**。

![USB割当先の設定](https://manaten.net/wp-content/uploads/2024/01/05.jpg)

この写真ではDisplayport、HDMIともにUSB-Bに割り当てられているため、モニタ入力をDisplayportまたはHDMIに切り替えるとUSB-B端子側に、モニタ入力をUSB-Cに切り替えるとUSB-C側にマウス･キーボードも切り替わります。USB-Cは当然ですがUSB-C固定でしか割当できず、HDMI、DisplayportはUSB-C側に割り当てることも可能なようです(サブモニタ用途？)。

また、この割当について、初回セットアップ時はKVM設定ガイドというのが表示され、案内に従うことでPC1、PC2、マウス、キーボードの適切な接続と動作確認を案内してもらうことができます。

![KVM設定ガイド](https://manaten.net/wp-content/uploads/2024/01/06.jpg)

また、入力切替自体はショートカットキーを割り当てておくことで、**本体裏の十字キーで横を押す→決定を押す、という手順**で切り替えることができます。2操作必要ですが(ELEVIEW EHD-601Nでは1プッシュで切り替えできた)、許容範囲内です。

![ショートカットキーで切り替え](https://manaten.net/wp-content/uploads/2024/01/07.jpg)

![ショートカットキーの割り当て](https://manaten.net/wp-content/uploads/2024/01/08.jpg)

## P3424WE内蔵KVMスイッチの性能面

まだ利用して日が浅いですが、USB接続が途切れたり、遅延したりということは感じません。通常のモニタ内蔵USBハブと同等だと思います。

モニタ出力に関してはPCとは間に機器を挟まずに直接接続しているため、以前の構成より安心感があります。

## P3424WE内蔵KVMスイッチの課題

十分な使い勝手がありつつデスク周りをスッキリできたモニタ内蔵KVMスイッチですが、いくつか課題となる点も気づきましたので紹介します。

### スピーカー･スピーカー端子がない

このスピーカーにはスピーカーが搭載されていません。それだけなら他のモニタでもよくあることですが、このモニタにはスピーカー端子も搭載されていません。

HDMI経由で音声出力も一本化しようと考えても、スピーカー端子がないため実現できないということになります。もし音声も一本化したい場合はUSBスピーカーなどをモニタのUSB端子に接続する必要があります(USB端子は4つあります)。

### Macbookのクラムシェルモードのスリープを復帰させられない

ウルトラワイドモニタですので作業領域は十分なため、Macbookと使う場合はMacbookをクラムシェルモードで使うことになると思います。ただ、ここに若干の落とし穴があり、**クラムシェルモードでスリープ中のMacをKVMスイッチに接続されたマウス･キーボードで復帰させられない**のです。厳密には復帰させられることもあるのですが、長時間のスリープのあとだと復帰させられないことが多いです。

これの何が問題かというと、デスクトップPCで長時間作業のあと、仕事のためにMacに切り替えたときに、せっかくKVMスイッチはワンステップで切り替わるのに、Macが起動しないためMacを起動させるという追加の手順が必要になってしまうのです。

おそらくですが、モニタが｢USB-Cから電源だけを共有する状態｣から｢USB-Cハブとして機能する状態｣に切り替わる条件がPC側の映像信号の有無となっていそうで、しかし入力がない限りMacはスリープから復帰しないため映像信号も送られず、KVMスイッチに接続されたマウス･キーボードで復帰させられないという結果になっていそうです。

以下のURLではこの問題に言及していますが、エレガントな解決策はなさそうです。

- [Closed Display Mode with KVM - Apple Community](https://discussions.apple.com/thread/253289854?sortBy=best)
- [Waking M2 While in Clamshell Mode : r/macbookair](https://www.reddit.com/r/macbookair/comments/wp879p/waking_m2_while_in_clamshell_mode/)

現時点で気づいている対策は次の2つです。

### 1. Macを電源接続時にモニタをオフにしない(=スリープしない)ようにする

![電源接続時にモニタをオフにしない設定](https://manaten.net/wp-content/uploads/2024/01/09.png)

この設定をオンにすることで、Macはモニタに接続されている限り放置ではスリープにならなくなりますので、長時間のデスクトップ使用のあとにMacに切り替えてもすぐにMac側を操作することができます。

これで体験としてはほぼ問題ないのですが、Macを利用してないときもスリープにさせないということになるので、Macへの負荷の心配は若干あります(スクリーンショットで指摘されているモニタの寿命はクラムシェルモードなので問題はないです)。

### 2. MacをKVMスイッチ接続の機器以外でスリープ解除する

Macに他の機器が接続されている場合はその機器でスリープ解除するのが手っ取り早いです。

自分の場合はマウス(MX Vertical)がUSB接続とBluetooth接続を切り替えられ、Macとはもともと外出時向けにBluetoothでペアリングしているため、マウスをBluetooth接続に切り替えることでMacのスリープを解除できます。ただし、KVMスイッチの切替に加えてマウスの接続方式を切り替えてスリープ解除、という1工程が増えてしまうため、KVMスイッチの良さが半減してしまっています。

1の方法で基本スリープさせず、何かの拍子にスリープしてしまった場合のみのバックアップとして考えています。

このようにモニタ内蔵のKVMスイッチは基本的には快適なのですが、Macbookのクラムシェルモードといまいち相性が悪いという問題だけが気になります。より優れた解決をお知りの方がいたら教えていただけると幸いです。

Macbookとの相性に多少の難はあれど、モニタ本体は発色も気にならず、念願のUWQHDサイズがリーズナブルに手に入りましたし、KVMスイッチがモニタ内蔵になることでPC周りの構成がシンプルになったこともあり、とても満足度が高いです。同じようなニーズでモニタを探している方の参考になれば幸いです。

## (2024/02/03追記) 勝手にUSBだけスイッチされてしまう？事がある問題

上記のように、クラムシェルモードのmacへの切り替えだけ少々難がある状態だったのですが、もう一つ課題が見つかりました。
どうも、長時間？利用していると勝手にKVMスイッチのUSBだけが切り替わってしまうことがあるようなのです(ようなのです、というのは厳密にハブの機能自体が使えなくなってるのか、もう一台の方に切り替わってしまってるのかが判別できてないため)。

作業中に突然マウス･キーボードが反応せず、切り替えると切り替え先で入力されていた形跡があり、もう一度切り替えると復活する、という形で再現しています。
作業中に突然入力できなくなるのは普通にストレスなので、こちらに関しては問い合わせをしようと考えています。

## (2024/03/03追記) 勝手にUSBだけスイッチされてしまう？事がある問題その2

問い合わせをしたところ｢簡易放電をする(ケーブル類を抜いたあと電源ボタンを10秒長押し)｣または｢工場リセット｣で改善するというふうに案内されました。

そこで｢簡易放電｣｢工場リセット｣それぞれで1-2週程度使ってみたところ、どちらのケースも施行直後は発生頻度が圧倒的に減り(一週間程度は発生しない)、その後徐々に発生率が上がっていく(酷いと日に二回発生する)ということがわかりました。
思えば購入直後も特に問題にならなかったため、連続起動時間に依存した問題？のような感じがします。

また、簡易放電もケーブル類を抜かずに電源長押しして再起動するだけでも改善することがわかりました。長押し後の起動時にDellのスプラッシュが表示されるため、内部的にスタンバイではなく再起動的な動きをしていそうです。

いったんいつかファームウェアアップデートで改善することを祈りながら、週一くらいで電源長押しでリセットすることを意識すれば、問題なく使えそうではありました。

## (2025/01/11追記)

[BugZero | Dell BugID 227501 - Dell P3424WE Monitor USB and Network Disconnect Wh...](https://www.findbugzero.com/operational-defect-database/vendors/dell/defects/227501)

> Resolution
> Updating to Dell_P3424WE_FWUpdate_M2B104_Windows version M2B104 or later on the computer resolves the issue. To download and install the firmware, reference How to Download and Install Dell Drivers.

知らないうちにファームウェアが更新されており、このエントリによるとファームウェアアップデートすることで｢勝手にUSBだけスイッチされてしまう問題｣は解決するようです。
一旦軽く試してみたところ再現はしなくなったようですが、もともと確率で発生していたのでまたしばらく利用してみます。

ちなみに、このアップデートまでの間、｢PIPモードで利用し、USBがスイッチされてしまったらPIPのUSB切り替えでもとのPCに入力を戻す｣という対応でごまかし利用していました。
通常モードでは画面切り替えとUSB切り替えが連動しているので、一回入力切替をしないとスイッチをもとに戻せないのですが、PIPでは両画面を表示した状態でUSBスイッチだけ行うことができるのです。
